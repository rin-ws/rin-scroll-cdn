!function(t,e){"use strict";function o(e){this.options=Object.assign({snapEnabled:!0,snapDuration:800,snapEasing:"easeInOutCubic",sectionSelector:"[data-scroll-section]",threshold:.5,progressBar:!0,progressBarSelector:".rinscroll-progress",sectionProgressBar:!0,smoothScroll:!0,smoothScrollDuration:600,smoothScrollOffset:0,horizontal:!1,reducedMotion:t.matchMedia("(prefers-reduced-motion: reduce)").matches,keyboardNavigation:!0,focus:null,onSectionEnter:null,onSectionLeave:null,onScrollProgress:null,onFirstEnter:null,onReEnter:null,onFullyVisible:null,onSnapStart:null,onSnapEnd:null,touchEnabled:!0,momentumScroll:!1,scrollToTop:null,scrollIntent:{enabled:!1,adaptiveSnap:!0}},e||{}),this.validateEasingFunction(),this.sections=[],this.currentSection=null,this.scrollDirection=null,this.lastScrollPosition=0,this.eventListeners=[],this.scrollToTopButton=null,this.lastNavigationSource=null,this.scrollIntent={type:null,velocity:0,isFlick:!1,lastScrollTime:0,scrollSamples:[]},this.init()}o.prototype.init=function(){this.setupSections(),this.setupObservers(),this.setupProgressBars(),this.setupSmoothScroll(),this.setupScrollEvents(),this.options.keyboardNavigation&&this.setupKeyboardNavigation(),this.options.touchEnabled&&this.setupTouchEvents(),this.options.scrollToTop&&this.setupScrollToTop(),this.options.scrollIntent&&this.options.scrollIntent.enabled&&this.setupScrollIntentDetection(),this.applyIOSFixes(),this.options.reducedMotion&&this.disableAnimations()},o.prototype.validateEasingFunction=function(){-1===["linear","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint"].indexOf(this.options.snapEasing)&&(console.warn('RINscroll: Invalid easing function "'+this.options.snapEasing+'". Using default "easeInOutCubic".'),this.options.snapEasing="easeInOutCubic")},o.prototype.safeQuerySelector=function(t){try{return e.querySelector(t)}catch(e){return console.warn('RINscroll: Invalid selector "'+t+'". Skipping.'),null}},o.prototype.setupSections=function(){var t=e.querySelectorAll(this.options.sectionSelector),o=this;Array.prototype.forEach.call(t,function(t,e){o.sections.push({element:t,index:e,id:t.id||"section-"+e,isActive:!1,progress:0,state:"upcoming",hasEntered:!1})})},o.prototype.setupObservers=function(){var t=this;this.observer=new IntersectionObserver(function(e){e.forEach(function(e){var o=t.findSectionByElement(e.target);if(o){o.progress=e.intersectionRatio;var n=e.intersectionRatio>=.99,s=o.wasFullyVisible||!1;t.updateSectionState(o,e),e.isIntersecting&&e.intersectionRatio>=t.options.threshold?o.isActive||(o.isActive=!0,t.currentSection=o,e.target.classList.add("rinscroll-active"),o.hasEntered?t.options.onReEnter&&t.options.onReEnter(o,e):(o.hasEntered=!0,t.options.onFirstEnter&&t.options.onFirstEnter(o,e)),t.options.onSectionEnter&&t.options.onSectionEnter(o,e)):o.isActive&&(o.isActive=!1,e.target.classList.remove("rinscroll-active"),t.options.onSectionLeave&&t.options.onSectionLeave(o,e)),n&&!s?(o.wasFullyVisible=!0,t.options.onFullyVisible&&t.options.onFullyVisible(o,e)):!n&&s&&(o.wasFullyVisible=!1),t.options.sectionProgressBar&&t.updateSectionProgress(o)}})},{root:null,rootMargin:"0px",threshold:[0,.25,.5,.75,1]}),this.sections.forEach(function(e){t.observer.observe(e.element)})},o.prototype.setupProgressBars=function(){if(this.options.progressBar){var t=this.safeQuerySelector(this.options.progressBarSelector);if(!t){(t=e.createElement("div")).className="rinscroll-progress";var o=e.createElement("div");o.className="rinscroll-progress-bar",t.appendChild(o),e.body.appendChild(t)}this.progressBar=t,this.progressBarInner=t.querySelector(".rinscroll-progress-bar")}},o.prototype.setupSmoothScroll=function(){if(this.options.smoothScroll){var t=this,o=e.querySelectorAll('a[href^="#"]');Array.prototype.forEach.call(o,function(e){e.addEventListener("click",function(e){var o=this.getAttribute("href");if("#"!==o){e.preventDefault();var n=t.safeQuerySelector(o);n&&t.scrollToElement(n)}})})}},o.prototype.setupScrollEvents=function(){var e=this,o=!1,n=function(){o||(t.requestAnimationFrame(function(){e.handleScroll(),o=!1}),o=!0)},s=function(t){e.lastNavigationSource=null};t.addEventListener("scroll",n),this.eventListeners.push({element:t,event:"scroll",handler:n}),t.addEventListener("wheel",s,{passive:!0}),this.eventListeners.push({element:t,event:"wheel",handler:s,options:{passive:!0}}),this.handleScroll()},o.prototype.handleScroll=function(){var o=this.options.horizontal?t.pageXOffset:t.pageYOffset;if(o>this.lastScrollPosition?this.scrollDirection=this.options.horizontal?"right":"down":o<this.lastScrollPosition&&(this.scrollDirection=this.options.horizontal?"left":"up"),this.lastScrollPosition=o,this.options.progressBar&&this.progressBarInner){var n=this.options.horizontal?e.documentElement.scrollWidth-e.documentElement.clientWidth:e.documentElement.scrollHeight-e.documentElement.clientHeight;if(n>0){var s=Math.min(o/n*100,100);this.progressBarInner.style.width=s+"%",this.options.onScrollProgress&&this.options.onScrollProgress(s,o)}}this.scrollToTopButton&&this.updateScrollToTopVisibility()},o.prototype.setupKeyboardNavigation=function(){var t=this,o=function(e){t.options.reducedMotion||(t.lastNavigationSource="keyboard",["Space","PageDown","ArrowDown"].indexOf(e.key)>-1||[32,34,40].indexOf(e.keyCode)>-1?(e.preventDefault(),t.scrollToNextSection()):["PageUp","ArrowUp"].indexOf(e.key)>-1||[33,38].indexOf(e.keyCode)>-1?(e.preventDefault(),t.scrollToPreviousSection()):"Home"===e.key||36===e.keyCode?(e.preventDefault(),t.scrollToSection(0)):"End"!==e.key&&35!==e.keyCode||(e.preventDefault(),t.scrollToSection(t.sections.length-1)))};e.addEventListener("keydown",o),this.eventListeners.push({element:e,event:"keydown",handler:o})},o.prototype.setupTouchEvents=function(){var t=this,o=function(e){t.lastNavigationSource=null;e.touches[0].clientY,e.touches[0].clientX};e.addEventListener("touchstart",o,{passive:!0}),this.eventListeners.push({element:e,event:"touchstart",handler:o,options:{passive:!0}})},o.prototype.setupScrollIntentDetection=function(){var o=this,n=function(t){var e=Date.now();0===t.deltaMode&&Math.abs(t.deltaY)<50&&Math.abs(t.deltaX)<50?o.scrollIntent.type="trackpad":o.scrollIntent.type="mouse";var n=Math.abs(o.options.horizontal?t.deltaX:t.deltaY),s=e-o.scrollIntent.lastScrollTime;if(s>0&&s<100){o.scrollIntent.velocity=n/s,o.scrollIntent.scrollSamples.push(o.scrollIntent.velocity),o.scrollIntent.scrollSamples.length>5&&o.scrollIntent.scrollSamples.shift();var i=o.scrollIntent.scrollSamples.reduce(function(t,e){return t+e},0)/o.scrollIntent.scrollSamples.length,r="trackpad"===o.scrollIntent.type?2:1;o.scrollIntent.isFlick=i>r}o.scrollIntent.lastScrollTime=e},s=0,i=0,r=0,l=function(t){o.scrollIntent.type="touch",s=Date.now(),i=t.touches[0].clientY,r=t.touches[0].clientX,o.scrollIntent.velocity=0,o.scrollIntent.isFlick=!1},a=function(t){if(0!==s){var e=Date.now()-s,n=t.touches[0].clientY,l=t.touches[0].clientX,a=Math.abs(n-i),c=Math.abs(l-r),p=o.options.horizontal?c:a;e>0&&(o.scrollIntent.velocity=p/e,o.scrollIntent.isFlick=o.scrollIntent.velocity>1)}},c=function(t){s=0};t.addEventListener("wheel",n,{passive:!0}),this.eventListeners.push({element:t,event:"wheel",handler:n,options:{passive:!0}}),e.addEventListener("touchstart",l,{passive:!0}),this.eventListeners.push({element:e,event:"touchstart",handler:l,options:{passive:!0}}),e.addEventListener("touchmove",a,{passive:!0}),this.eventListeners.push({element:e,event:"touchmove",handler:a,options:{passive:!0}}),e.addEventListener("touchend",c,{passive:!0}),this.eventListeners.push({element:e,event:"touchend",handler:c,options:{passive:!0}})},o.prototype.applyIOSFixes=function(){/iPad|iPhone|iPod/.test(navigator.userAgent)&&"webkitOverflowScrolling"in e.body.style&&(e.body.style.webkitOverflowScrolling="touch")},o.prototype.disableAnimations=function(){this.options.smoothScroll=!1,this.options.smoothScrollDuration=0},o.prototype.scrollToElement=function(e,o){if(e){var n=this,s=this.options.horizontal?e.offsetLeft:e.offsetTop;s-=this.options.smoothScrollOffset;var i=null;if(o&&(i=this.findSectionByElement(e)),this.options.reducedMotion||0===this.options.smoothScrollDuration)return i&&this.options.onSnapStart&&this.options.onSnapStart(i),this.options.horizontal?t.scrollTo(s,0):t.scrollTo(0,s),void(i&&this.options.onSnapEnd&&this.options.onSnapEnd(i));i&&this.options.onSnapStart&&this.options.onSnapStart(i);var r=this.options.smoothScrollDuration;this.options.scrollIntent&&this.options.scrollIntent.enabled&&this.options.scrollIntent.adaptiveSnap&&o&&(this.scrollIntent.isFlick?r=Math.max(300,.6*this.options.smoothScrollDuration):this.scrollIntent.velocity>0&&this.scrollIntent.velocity<.5&&(r=Math.min(1200,1.2*this.options.smoothScrollDuration)));var l=this.options.horizontal?t.pageXOffset:t.pageYOffset,a=s-l,c=null;requestAnimationFrame(function e(o){null===c&&(c=o);var s=o-c,p=Math.min(s/r,1),u=n.easing[n.options.snapEasing](p),h=l+a*u;n.options.horizontal?t.scrollTo(h,0):t.scrollTo(0,h),s<r?requestAnimationFrame(e):i&&n.options.onSnapEnd&&n.options.onSnapEnd(i)})}},o.prototype.scrollToSection=function(t){if(!(t<0||t>=this.sections.length)){var e=this,o=this.sections[t];if(this.scrollToElement(o.element,!0),this.options.focus&&this.options.focus.enabled){var n=this.options.reducedMotion?0:this.options.smoothScrollDuration;setTimeout(function(){e.manageFocus(o)},n)}}},o.prototype.scrollToNextSection=function(){if(this.currentSection){var t=this.currentSection.index+1;t<this.sections.length&&this.scrollToSection(t)}else this.scrollToSection(0)},o.prototype.scrollToPreviousSection=function(){if(this.currentSection){var t=this.currentSection.index-1;t>=0&&this.scrollToSection(t)}},o.prototype.manageFocus=function(t){if(this.options.focus&&this.options.focus.enabled&&"keyboard"===this.lastNavigationSource){var e=this.options.focus,o=null;if("function"==typeof e.target)o=e.target(t);else if("string"==typeof e.target)if("section"===e.target)o=t.element;else try{o=t.element.querySelector(e.target)}catch(t){return console.warn('RINscroll: Invalid focus target selector "'+e.target+'". Skipping focus.'),void(this.lastNavigationSource=null)}else void 0!==e.target&&"section"!==e.target||(o=t.element);if(o){o.hasAttribute("tabindex")||this.isFocusableElement(o)||o.setAttribute("tabindex","-1");var n=!1!==e.preventScroll;try{o.focus({preventScroll:n})}catch(t){o.focus()}this.lastNavigationSource=null}else this.lastNavigationSource=null}},o.prototype.isFocusableElement=function(t){return["A","BUTTON","INPUT","SELECT","TEXTAREA"].indexOf(t.tagName)>-1},o.prototype.updateSectionProgress=function(t){var e=t.element.querySelector(".rinscroll-section-progress-bar");e&&(e.style.width=100*t.progress+"%")},o.prototype.findSectionByElement=function(t){for(var e=0;e<this.sections.length;e++)if(this.sections[e].element===t)return this.sections[e];return null},o.prototype.updateSectionState=function(o,n){if(o){var s=n.boundingClientRect,i=t.innerHeight||e.documentElement.clientHeight,r=t.innerWidth||e.documentElement.clientWidth,l=o.state;this.options.horizontal?s.left>r?o.state="upcoming":s.right<0?o.state="passed":o.state="active":s.top>i?o.state="upcoming":s.bottom<0?o.state="passed":o.state="active",l!==o.state&&(o.element.classList.remove("rinscroll-state-"+l),o.element.classList.add("rinscroll-state-"+o.state))}},o.prototype.setupScrollToTop=function(){var t=this,e=this.options.scrollToTop;if(e.target){var o=this.safeQuerySelector(e.target);if(o){var n=function(o){o.preventDefault(),t.scrollToTop({behavior:e.behavior||"smooth",focus:!1!==e.focus})};o.addEventListener("click",n),this.eventListeners.push({element:o,event:"click",handler:n})}}e.ui&&this.createScrollToTopButton(e)},o.prototype.createScrollToTopButton=function(t){var o=this,n=e.createElement("button");n.className="rinscroll-scroll-to-top",n.setAttribute("aria-label","Scroll to top"),n.setAttribute("type","button");var s=e.createElement("span");s.className="rinscroll-scroll-to-top-icon",s.setAttribute("aria-hidden","true"),s.textContent="â†‘",n.appendChild(s);var i=t.position||"bottom-right";-1===["bottom-right","bottom-center","bottom-left"].indexOf(i)&&(i="bottom-right"),n.classList.add("rinscroll-scroll-to-top-"+i),n.style.opacity="0",n.style.visibility="hidden",e.body.appendChild(n),this.scrollToTopButton=n;var r=function(e){e.preventDefault(),o.scrollToTop({behavior:t.behavior||"smooth",focus:!1!==t.focus})};n.addEventListener("click",r),this.eventListeners.push({element:n,event:"click",handler:r}),this.scrollToTopShowAfter=t.showAfter||.3,this.updateScrollToTopVisibility()},o.prototype.updateScrollToTopVisibility=function(){if(this.scrollToTopButton){var o=this.options.horizontal?t.pageXOffset:t.pageYOffset,n=this.options.horizontal?e.documentElement.scrollWidth-e.documentElement.clientWidth:e.documentElement.scrollHeight-e.documentElement.clientHeight,s=!1;if(this.scrollToTopShowAfter<=1)s=(n>0?o/n:0)>=this.scrollToTopShowAfter;else s=o>=this.scrollToTopShowAfter;s?(this.scrollToTopButton.style.opacity="1",this.scrollToTopButton.style.visibility="visible"):(this.scrollToTopButton.style.opacity="0",this.scrollToTopButton.style.visibility="hidden")}},o.prototype.scrollToTop=function(e){var o=e||{},n=o.behavior||"smooth",s=!1!==o.focus;this.options.reducedMotion&&(n="instant");var i=this.sections.length>0?this.sections[0].element:null;if("instant"===n||this.options.reducedMotion)t.scrollTo(0,0);else{if(!i){var r=this,l=this.options.horizontal?t.pageXOffset:t.pageYOffset,a=-l,c=null;function p(e){null===c&&(c=e);var o=e-c,n=Math.min(o/r.options.smoothScrollDuration,1),u=r.easing[r.options.snapEasing](n),h=l+a*u;r.options.horizontal?t.scrollTo(h,0):t.scrollTo(0,h),o<r.options.smoothScrollDuration?requestAnimationFrame(p):s&&i&&i.focus()}return void requestAnimationFrame(p)}this.scrollToElement(i)}s&&i&&setTimeout(function(){i.focus()},"instant"===n?0:this.options.smoothScrollDuration)},o.prototype.destroy=function(){this.observer&&this.observer.disconnect(),this.eventListeners&&(this.eventListeners.forEach(function(t){t.options?t.element.removeEventListener(t.event,t.handler,t.options):t.element.removeEventListener(t.event,t.handler)}),this.eventListeners=[]),this.progressBar&&this.progressBar.parentNode&&this.progressBar.parentNode.removeChild(this.progressBar),this.scrollToTopButton&&this.scrollToTopButton.parentNode&&this.scrollToTopButton.parentNode.removeChild(this.scrollToTopButton),this.sections.forEach(function(t){t.element.classList.remove("rinscroll-active")})},o.prototype.easing={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:(4-2*t)*t-1},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1}},t.RINscroll=o}(window,document);